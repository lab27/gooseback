import{_ as R}from"./DT5Pyhvu.js";import{_ as V}from"./lmScR0BP.js";import{d as B,m as F,i as M,w as S,j as q,c as n,a as s,t as o,u as l,q as E,v as H,s as I,h as P,f as b,F as w,r as x,b as i,o as r,g as y,_ as L,x as j}from"./BnQ0cmjI.js";import O from"./CQIYI__b.js";import{u as U}from"./DQYTceQJ.js";import{u as A,q as $}from"./BtExpcMk.js";import{f as G}from"./sbWH3_uq.js";import"./D_fY5Azb.js";import"./BqvPipn-.js";import"./C-v3KzvZ.js";import"./CxYJgpPD.js";import"./NCjuKtEz.js";import"./D02ahtUo.js";const J={class:"films-header"},K={class:"sort-by"},Q={key:0,class:"films-wrapper"},W={class:"lead-text"},X={class:"film-grid"},Y={class:"film-thumbnail-wrapper"},Z={class:"thumbnail-arrow-wrapper"},ss={class:"film-details-wrapper"},ts={class:"film-title"},es={class:"film-date"},as={class:"lead-text"},os={class:"film-grid"},is={class:"film-thumbnail-wrapper"},ns={class:"thumbnail-arrow-wrapper"},ls={class:"film-details-wrapper"},rs={class:"film-title"},ds={class:"film-date"},ps={class:"lead-text"},ms={class:"film-grid"},cs={class:"film-thumbnail-wrapper"},us={class:"thumbnail-arrow-wrapper"},_s={class:"film-details-wrapper"},vs={class:"film-title"},hs={class:"film-date"},fs={key:1},gs=B({__name:"index",async setup(bs){let d,c;U({title:"Movies",bodyAttrs:{class:"page-movies"}});const{$staticRemover:ws}=F(),p=M("title"),{data:u}=([d,c]=S(()=>A("films",()=>$("films").find())),d=await d,c(),d),{data:m}=([d,c]=S(()=>A("filmPage",()=>$("pages/movies").findOne())),d=await d,c(),d),_=q(()=>u.value?p.value==="dateTime"?[...u.value].sort((a,t)=>new Date(a.screenings[0].dateTime).getTime()-new Date(t.screenings[0].dateTime).getTime()):[...u.value].sort((a,t)=>a[p.value].localeCompare(t[p.value])):[]),v=a=>{const t=new Date(a);return G(t,"dd.MM HH:mm")};return(a,t)=>{var D,k,T,C,N;const h=R,f=V,g=L,z=O;return r(),n("main",null,[s("header",J,[s("h1",null,o((D=l(m))==null?void 0:D.heading),1),s("div",K,[t[2]||(t[2]=s("label",null,"Sort by:",-1)),E(s("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>I(p)?p.value=e:null)},t[1]||(t[1]=[s("option",{value:"title"},"Title",-1),s("option",{value:"dateTime"},"Screening Date",-1)]),512),[[H,l(p)]])])]),(k=l(m))!=null&&k.isAnnounced?(r(),n("div",Q,[t[6]||(t[6]=s("h2",null,"Features",-1)),s("p",W,o((T=l(m))==null?void 0:T.featuresDescription),1),s("ul",X,[a.film.program==="features"?(r(!0),n(w,{key:0},x(l(_),e=>(r(),n("li",{key:e.slug},[i(g,{to:`/movies/${e.slug}`},{default:y(()=>[s("div",Y,[s("div",Z,[i(h)]),t[3]||(t[3]=s("div",{class:"thumbnail-gauze"},null,-1)),i(f,{class:"thumbnail-image",src:a.staticRemover(e.thumbnail),alt:e.title,placeholder:[160,90,10],format:"webp",fit:"cover",width:"1600",height:"900",sizes:"sm:100vw md:50vw lg:400px xl:800px",preload:""},null,8,["src","alt"])]),s("div",ss,[s("span",ts,o(e.title),1),s("span",es,o(v(e.screenings[0].dateTime)),1)])]),_:2},1032,["to"])]))),128)):b("",!0)]),t[7]||(t[7]=s("h2",null,"Shorts Program 1",-1)),s("p",as,o((C=l(m))==null?void 0:C.shorts1Description),1),s("ul",os,[a.film.program==="shorts1"?(r(!0),n(w,{key:0},x(l(_),e=>(r(),n("li",{key:e.slug},[i(g,{to:`/movies/${e.slug}`},{default:y(()=>[s("div",is,[s("div",ns,[i(h)]),t[4]||(t[4]=s("div",{class:"thumbnail-gauze"},null,-1)),i(f,{class:"thumbnail-image",src:a.staticRemover(e.thumbnail),alt:e.title,placeholder:[160,90,10],format:"webp",fit:"cover",width:"1600",height:"900",sizes:"sm:100vw md:50vw lg:400px xl:800px",preload:""},null,8,["src","alt"])]),s("div",ls,[s("span",rs,o(e.title),1),s("span",ds,o(v(e.screenings[0].dateTime)),1)])]),_:2},1032,["to"])]))),128)):b("",!0)]),t[8]||(t[8]=P('<h2 data-v-98b3a365><span class="flop" data-v-98b3a365>R</span><span data-v-98b3a365>E</span><span data-v-98b3a365>S</span><span data-v-98b3a365>I</span><span data-v-98b3a365>S</span><span data-v-98b3a365>T</span><span class="flip" data-v-98b3a365>A</span><span data-v-98b3a365>N</span><span data-v-98b3a365>C</span><span class="flop" data-v-98b3a365>E</span></h2>',1)),s("p",ps,o((N=l(m))==null?void 0:N.shorts1Description),1),s("ul",ms,[a.film.program==="shorts2"?(r(!0),n(w,{key:0},x(l(_),e=>(r(),n("li",{key:e.slug},[i(g,{to:`/movies/${e.slug}`},{default:y(()=>[s("div",cs,[s("div",us,[i(h)]),t[5]||(t[5]=s("div",{class:"thumbnail-gauze"},null,-1)),i(f,{class:"thumbnail-image",src:a.staticRemover(e.thumbnail),alt:e.title,placeholder:[160,90,10],format:"webp",fit:"cover",width:"1600",height:"900",sizes:"sm:100vw md:50vw lg:400px xl:800px",preload:""},null,8,["src","alt"])]),s("div",_s,[s("span",vs,o(e.title),1),s("span",hs,o(v(e.screenings[0].dateTime)),1)])]),_:2},1032,["to"])]))),128)):b("",!0)])])):(r(),n("section",fs,[i(z,{path:"/pages/movies"})]))])}}}),Bs=j(gs,[["__scopeId","data-v-98b3a365"]]);export{Bs as default};
