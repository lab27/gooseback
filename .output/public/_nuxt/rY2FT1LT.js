import{p as X,d as j,e as z,i as G,w as O,j as _,c as a,b as H,a as s,f as n,g as Q,t as r,u as i,F as u,r as f,_ as J,o as l,k as K,l as Y,n as v}from"./BnQ0cmjI.js";import{_ as Z}from"./CRFPPmy0.js";import ss from"./CQIYI__b.js";import{u as es}from"./CVwar_KL.js";import{u as ts,q as is}from"./BtExpcMk.js";import{u as ls}from"./DQYTceQJ.js";import{f as as}from"./sbWH3_uq.js";import"./lmScR0BP.js";import"./D_fY5Azb.js";import"./BqvPipn-.js";import"./C-v3KzvZ.js";import"./CxYJgpPD.js";import"./NCjuKtEz.js";import"./D02ahtUo.js";const L=X("/img/arrowhead.svg"),rs={class:"film-detail"},ns={class:"film-header-meta"},os={class:"film-content"},cs={class:"film-stills-slider"},ds={class:"film-info mb-12"},ms={class:"film-synopsis"},us={class:"film-credits"},fs={key:0,class:"film-credits-line"},ps={class:"film-credits-value"},_s={key:1,class:"film-credits-line"},vs={class:"film-credits-value"},ks={key:0,class:"film-credits-label"},ys={key:1,class:"film-credits-label"},gs={class:"film-credits-value"},hs={key:0,class:"film-credits-label"},bs={key:1,class:"film-credits-label"},ws={class:"film-credits-value"},Cs={key:0,class:"film-credits-label"},Fs={key:1,class:"film-credits-label"},Ts={class:"film-credits-value"},Es={key:0,class:"film-credits-line"},Is={class:"film-credits-value"},$s={key:1,class:"film-credits-line"},xs={class:"film-credits-value"},Ds={key:2,class:"film-credits-line"},Ms={class:"film-credits-value"},Ss={key:3,class:"film-credits-line"},As={class:"film-credits-value"},Bs=["href"],Hs={class:"clickable"},Ls={key:4,class:"film-credits-line"},Ns={class:"film-credits-value"},Ps=["href"],Rs={class:"clickable"},Vs={key:5,class:"film-credits-line"},Ws={class:"film-credits-value"},Us=["href"],qs={class:"clickable"},Xs={key:0,class:"film-screenings"},js={class:"film-screenings-list"},zs={class:"film-screening"},Gs={class:"film-screening-date"},ce=j({__name:"[slug]",async setup(Os){let p,y;const g=z(),{staticRemover:N}=es(),m=G(0),{data:t}=([p,y]=O(()=>ts("film",()=>is("films",g.params.slug).findOne())),p=await p,y(),p);ls(()=>{var c,e;return{title:((c=t.value)==null?void 0:c.title)||"Film",meta:[{hid:"description",name:"description",content:((e=t.value)==null?void 0:e.description)||""}]}});const k=_(()=>{if(!t.value)return[];const c=[t.value.thumbnail];return t.value.stills&&t.value.stills.forEach(e=>{c.push(e.still)}),c});_(()=>k.value[m.value]);const h=_(()=>m.value===0),b=_(()=>m.value===k.value.length-1),P=c=>{const e=new Date(c);return as(e,"EEEE, dd MMMM HH:mm")},w=c=>c.replace(/^(?:https?:\/\/)?(?:www\.)?/i,"").split("/")[0],R=()=>{h.value||m.value--},V=()=>{b.value||m.value++};return(c,e)=>{var C,F,T,E,I,$,x,D,M,S,A;const W=J,U=Z,q=ss;return l(),a("main",rs,[H(W,{class:"back-button",to:"/movies"},{default:Q(()=>e[0]||(e[0]=[K("← All Films")])),_:1}),s("h1",null,r((C=i(t))==null?void 0:C.title),1),s("p",ns,"dir. "+r((F=i(t))==null?void 0:F.director)+" / "+r((T=i(t))==null?void 0:T.type)+" / "+r((E=i(t))==null?void 0:E.durationInMinutes)+" min / "+r((I=i(t))==null?void 0:I.language),1),s("div",os,[s("div",cs,[(l(!0),a(u,null,f(i(k),(d,o)=>{var B;return l(),Y(U,{class:v(["film-slide",{active:o===i(m)}]),key:o,filmStill:i(N)(d),filmTitle:((B=i(t))==null?void 0:B.title)||""},null,8,["filmStill","filmTitle","class"])}),128)),i(h)?n("",!0):(l(),a("button",{key:0,class:"slider_arrow slider_arrow--left",onClick:R},e[1]||(e[1]=[s("img",{class:"arrow_flop",src:L},null,-1)]))),i(b)?n("",!0):(l(),a("button",{key:1,class:"slider_arrow slider_arrow--right",onClick:V},e[2]||(e[2]=[s("img",{src:L},null,-1)])))]),s("div",ds,[s("div",ms,[H(q,{path:`/films/${i(g).params.slug}`},null,8,["path"])]),s("div",us,[($=i(t))!=null&&$.country?(l(),a("div",fs,[e[3]||(e[3]=s("span",{class:"film-credits-label"},"Country",-1)),s("span",ps,r(i(t).country),1)])):n("",!0),(x=i(t))!=null&&x.director?(l(),a("div",_s,[e[4]||(e[4]=s("span",{class:"film-credits-label"},"Director",-1)),s("span",vs,r(i(t).director),1)])):n("",!0),(D=i(t))!=null&&D.producers?(l(!0),a(u,{key:2},f(i(t).producers,(d,o)=>(l(),a("div",{class:v(["film-credits-line",{"no-underline":o>0}]),key:`producer-${o}`},[o===0?(l(),a("span",ks,"Producers")):(l(),a("span",ys," ")),s("span",gs,r(d.producer),1)],2))),128)):n("",!0),(M=i(t))!=null&&M.execProducers?(l(!0),a(u,{key:3},f(i(t).execProducers,(d,o)=>(l(),a("div",{class:v(["film-credits-line",{"no-underline":o>0}]),key:`producer-${o}`},[o===0?(l(),a("span",hs,"Executive Producers")):(l(),a("span",bs," ")),s("span",ws,r(d.execProducer),1)],2))),128)):n("",!0),(S=i(t))!=null&&S.cast?(l(!0),a(u,{key:4},f(i(t).cast,(d,o)=>(l(),a("div",{class:v(["film-credits-line",{"no-underline":o>0}]),key:`actor-${o}`},[o===0?(l(),a("span",Cs,"Cast")):(l(),a("span",Fs," ")),s("span",Ts,r(d.actor),1)],2))),128)):n("",!0),i(t)?(l(),a(u,{key:5},[i(t).music?(l(),a("div",Es,[e[5]||(e[5]=s("span",{class:"film-credits-label"},"Music",-1)),s("span",Is,r(i(t).music),1)])):n("",!0),i(t).cinematography?(l(),a("div",$s,[e[6]||(e[6]=s("span",{class:"film-credits-label"},"Cinematography",-1)),s("span",xs,r(i(t).cinematography),1)])):n("",!0),i(t).editor?(l(),a("div",Ds,[e[7]||(e[7]=s("span",{class:"film-credits-label"},"Editor",-1)),s("span",Ms,r(i(t).editor),1)])):n("",!0),i(t).contact?(l(),a("div",Ss,[e[9]||(e[9]=s("span",{class:"film-credits-label"},"Contact",-1)),s("span",As,[s("a",{href:`mailto:${i(t).contact}`},[e[8]||(e[8]=s("span",null,"↗",-1)),s("span",Hs,r(i(t).contact),1)],8,Bs)])])):n("",!0),i(t).filmWebsite?(l(),a("div",Ls,[e[11]||(e[11]=s("span",{class:"film-credits-label"},"Film Website",-1)),s("span",Ns,[s("a",{href:i(t).filmWebsite,target:"_blank"},[e[10]||(e[10]=s("span",null,"↗",-1)),s("span",Rs,r(w(i(t).filmWebsite)),1)],8,Ps)])])):n("",!0),i(t).filmTrailer?(l(),a("div",Vs,[e[13]||(e[13]=s("span",{class:"film-credits-label"},"Film Trailer",-1)),s("span",Ws,[s("a",{href:i(t).filmTrailer,target:"_blank"},[e[12]||(e[12]=s("span",null,"↗",-1)),s("span",qs,r(w(i(t).filmTrailer)),1)],8,Us)])])):n("",!0)],64)):n("",!0)])])]),(A=i(t))!=null&&A.screenings?(l(),a("div",Xs,[e[16]||(e[16]=s("h2",null,"Screenings",-1)),s("div",js,[(l(!0),a(u,null,f(i(t).screenings,d=>(l(),a("div",zs,[s("div",Gs,r(P(d.dateTime)),1),e[14]||(e[14]=s("div",{class:"film-screening-venue"},[s("a",{href:"https://goo.gl/maps/24UHpb31Xt13gXQH7",target:"_blank"},"Verkstadsgatan 11")],-1)),e[15]||(e[15]=s("div",{class:"film-screening-tickets"},[s("span",null,"↗"),s("a",{href:"https://filmfreeway.com/GasebackFilmFestival/tickets?welcome=true",target:"_blank"},"Buy Tickets")],-1))]))),256))])])):n("",!0)])}}});export{ce as default};
